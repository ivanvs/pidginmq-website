"use strict";(self.webpackChunkpidginmq_website=self.webpackChunkpidginmq_website||[]).push([[7748],{6472:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>n,metadata:()=>a,toc:()=>c});var r=s(4848),t=s(8453);const n={sidebar_position:2},o="Retry",a={id:"jobs/retry",title:"Retry",description:"During job processing, some of the jobs will fail. In PidginMQ, a job is considered failed in these cases:",source:"@site/docs/jobs/retry.md",sourceDirName:"jobs",slug:"/jobs/retry",permalink:"/docs/jobs/retry",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/jobs/retry.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"States",permalink:"/docs/jobs/states"},next:{title:"Repetable Job",permalink:"/docs/jobs/cron"}},d={},c=[{value:"Retrying Failed Jobs",id:"retrying-failed-jobs",level:2},{value:"Example",id:"example",level:2}];function l(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"retry",children:"Retry"})}),"\n",(0,r.jsx)(i.p,{children:"During job processing, some of the jobs will fail. In PidginMQ, a job is considered failed in these cases:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["job is snoozed by throwing ",(0,r.jsx)(i.code,{children:"SnoozeJobException"}),","]}),"\n",(0,r.jsx)(i.li,{children:"job throws any kind of error,"}),"\n",(0,r.jsx)(i.li,{children:"job is stuck."}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"retrying-failed-jobs",children:"Retrying Failed Jobs"}),"\n",(0,r.jsx)(i.p,{children:"When a job encounters an error, the worker captures the error, increases the job's attempts count, and schedules the job to be tried again if the maximum number of attempts has not been reached."}),"\n",(0,r.jsxs)(i.p,{children:["To determine when the job should be retried, PidginMQ will utilize the configured ",(0,r.jsx)(i.a,{href:"/docs/backoff",children:"backoff strategy"}),". PidginMQ allows you to utilize predefined strategies or create custom ones for job retries. The default backoff strategy is a fixed strategy, in which the job will be retried after 5 seconds."]}),"\n",(0,r.jsxs)(i.p,{children:["The retry policy is specified in the client's ",(0,r.jsx)(i.a,{href:"/docs/configuration",children:"configuration"}),"."]}),"\n",(0,r.jsx)(i.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(i.p,{children:"The job's maximum number of retries is set when it is created and cannot be altered afterward."}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:'const insertedJob = await client.addJob({\n  kind: "welcome_mail",\n  maxAttempts: 25,\n  queue: "email",\n});\n'})})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);